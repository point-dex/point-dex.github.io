(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20abe1fa"],{"45e0":function(t,s,e){"use strict";e("c929")},"4fc1":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"sell-orders"},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("market.text1")))]),s("span",[t._v(t._s(t.$t("buyOrders.text1")))]),s("span",[t._v(t._s(t.$t("history.text6")))]),s("span",[t._v(t._s(t.$t("LatestDeals.text1")))]),s("span",[t._v(t._s(t.$t("buyOrders.text2")))])]),s("div",{staticClass:"list"},[t._l(t.orders,(function(e){return[s("div",{staticClass:"list-item"},[s("span",[t._v(t._s(e.token))]),s("span",[t._v(t._s(e.volume)),s("span",[t._v("/"+t._s(e.total))])]),s("span",[t._v(t._s(e.price))]),s("span",[t._v(t._s(e.time))]),s("div",[s("van-button",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!item.loading"}],on:{click:function(s){return t.cancel(e)}}},[t._v(t._s(t.$t("commission.text5")))]),s("van-button",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"item.loading"}],attrs:{loading:"","loading-text":t.$t("commission.text6")}})],1)])]}))],2)])},i=[],a=(e("66b9"),e("b650")),n=e("2f62"),r=e("044d"),d={components:{[a["a"].name]:a["a"]},data(){return{orders:[],interval:-1}},computed:{...Object(n["b"])(["address","contracts","symbol"])},created(){this.address&&this.contracts&&(this.init(),this.autoReload())},destroyed(){this.closeAutoReload()},methods:{autoReload(){this.interval=setInterval(()=>{this.init()},5e3)},closeAutoReload(){clearInterval(this.interval)},cancel(t){this.closeAutoReload();const s=this.contracts.ExchangeRouter.methods.cancelOrder([this.contracts[this.symbol+"Token"].options.address,this.contracts.USDTToken.options.address],t.orderIndex);s.call({from:this.address},(e,o)=>{e||s.send({from:this.address}).on("transactionHash",s=>{t.loading=!0}).on("receipt",s=>{t.loading=!1,this.$emit("reload"),this.init(),this.autoReload()}).on("error",t=>{console.log(t),this.autoReload()})})},async init(){try{const t=await Object(r["c"])("address",this.address);if(t&&t.length>0){let s=[];t.forEach(t=>{t.isBuy||s.push(t.orderIndex)}),s.length>0?this.contracts.ExchangeRouter.methods.userOnOrderInfo([this.contracts[this.symbol+"Token"].options.address,this.contracts.USDTToken.options.address],s).call((t,s)=>{if(!t){const{0:t,1:e,2:o,3:i,4:a}=s,n=[];e.forEach((s,e)=>{if(s>0){const r=o[e],d=r.toBN().minus(s).toFixed();n.push({token:this.symbol+"/USDT",price:t[e].fromWei().toFixed(2),total:r.fromWei().toFixed(2),volume:d.fromWei().toFixed(2),time:a[e].format(),orderIndex:i[e],timestemp:Number(a[e]),loading:!1})}}),this.orders=n.sort((t,s)=>s.timestemp-t.timestemp)}}):this.orders=[]}else this.orders=[]}catch(t){}}}},c=d,l=c,h=(e("45e0"),e("2877")),u=Object(h["a"])(l,o,i,!1,null,"c123d23a",null);s["default"]=u.exports},c929:function(t,s,e){}}]);