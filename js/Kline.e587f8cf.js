(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Kline"],{4078:function(t,s,e){"use strict";e("8f7e")},"43cc":function(t,s,e){"use strict";e("8895")},8895:function(t,s,e){},"8f7e":function(t,s,e){},ac09:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"kline"},[s("div",{staticClass:"navbar"},[s("img",{attrs:{src:e("ccfe")},on:{click:function(s){return t.$router.back()}}}),s("div",{on:{click:t.openMarket}},[s("img",{attrs:{src:e("6b8d")}}),s("span",[t._v(t._s(t.symbol)+"/USDT")])])]),t._m(0),s("div",{staticClass:"tags"},[s("span",{class:{active:"orders"==t.tag},on:{click:function(s){t.tag="orders"}}},[t._v(t._s(t.$t("kline.text1")))]),s("span",{class:{active:"latest"==t.tag},on:{click:function(s){t.tag="latest"}}},[t._v(t._s(t.$t("kline.text2")))]),s("span",{class:{active:"info"==t.tag},on:{click:function(s){t.tag="info"}}},[t._v(t._s(t.$t("kline.text3")))])]),s("commission-orders",{directives:[{name:"show",rawName:"v-show",value:"orders"==t.tag,expression:"tag == 'orders'"}]}),s("latest-deals",{directives:[{name:"show",rawName:"v-show",value:"latest"==t.tag,expression:"tag == 'latest'"}],attrs:{bargains:t.bargains.slice(-20)}}),s("token-info",{directives:[{name:"show",rawName:"v-show",value:"info"==t.tag,expression:"tag == 'info'"}]}),s("div",{staticClass:"buttons"},[s("van-button",{on:{click:function(s){return t.$router.push({path:"/",query:{type:"buy"}})}}},[t._v(t._s(t.$t("kline.text4")))]),s("van-button",{on:{click:function(s){return t.$router.push({path:"/",query:{type:"sell"}})}}},[t._v(t._s(t.$t("kline.text5")))])],1),s("pot-market",{ref:"Market"})],1)},a=[function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"chart"},[s("div",{attrs:{id:"container"}})])}],n=(e("66b9"),e("b650")),o=e("2f62"),r=e("044d"),c=e("ea7f"),l=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"commission-orders"},[s("div",{staticClass:"tags"},[s("span",[t._v(t._s(t.$t("CommissionOrders.text1")))]),s("span",[t._v(t._s(t.$t("CommissionOrders.text2")))])]),s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("CommissionOrders.text3")))]),s("span",[t._v(t._s(t.$t("CommissionOrders.text4")))]),s("span",[t._v(t._s(t.$t("CommissionOrders.text3")))]),s("span",[t._v(t._s(t.$t("CommissionOrders.text4")))])]),s("div",{staticClass:"data"},[s("div",{staticClass:"list"},t._l(t.buys,(function(e,i){return s("div",{key:i,staticClass:"list-item buy"},[s("span",[t._v(t._s(e.amount))]),s("span",[t._v(t._s(e.price))]),s("i",{style:{width:e.width}})])})),0),s("div",{staticClass:"list"},t._l(t.sells,(function(e,i){return s("div",{key:i,staticClass:"list-item sell"},[s("span",[t._v(t._s(e.amount))]),s("span",[t._v(t._s(e.price))]),s("i",{style:{width:e.width}})])})),0)])])},d=[],u={data(){return{buys:[],sells:[]}},computed:{...Object(o["b"])(["web3","contracts","symbol"])},created(){this.web3&&this.init()},methods:{init(){this.contracts.ExchangeRouter.methods.priceAmount([this.contracts.USDTToken.options.address,this.contracts[this.symbol+"Token"].options.address],10).call((t,s)=>{if(!t){const{0:t,1:e}=s,i=[];let a="0".toBN();e.forEach((s,e)=>{const i=s.toBN().div(t[e]);a.lt(i)&&(a=i)}),e.forEach((s,e)=>{const n=s.toBN().div(t[e]).toFixed();i.push({price:t[e].fromWei().toFixed(2),amount:n.toFixed(2,!0),width:n.toBN().div(a).times(100).toFixed()+"%"})}),this.buys=i.sort((t,s)=>Number(s.price)-Number(t.price))}}),this.contracts.ExchangeRouter.methods.priceAmount([this.contracts[this.symbol+"Token"].options.address,this.contracts.USDTToken.options.address],10).call((t,s)=>{if(!t){const{0:t,1:e}=s,i=[];let a="0".toBN();e.forEach(t=>{a.lt(t)&&(a=t.toBN())}),e.forEach((s,e)=>{i.push({price:t[e].fromWei().toFixed(2),amount:s.fromWei().toFixed(2,!0),width:s.toBN().div(a).times(100).toFixed()+"%"})}),this.sells=i.sort((t,s)=>Number(t.price)-Number(s.price))}})}}},m=u,h=m,p=(e("4078"),e("2877")),v=Object(p["a"])(h,l,d,!1,null,"ca9e3218",null),b=v.exports,f={components:{CommissionOrders:b,[n["a"].name]:n["a"],"pot-market":()=>e.e("chunk-fb62ee1c").then(e.bind(null,"328c")),"latest-deals":()=>e.e("chunk-7f4a4ba6").then(e.bind(null,"ac46")),"token-info":()=>e.e("chunk-00f3ad77").then(e.bind(null,"b477"))},data(){return{tag:"orders",bargains:[]}},computed:{...Object(o["b"])(["symbol"])},async mounted(){try{const t=await Object(r["a"])(!1),s=[];this.bargains=t,t.sort((t,s)=>Number(t.time)-Number(s.time)).forEach(t=>{s.push([1e3*parseInt(t.time),Number(t.price.fromWei())])}),this.initChart(s)}catch(t){}},methods:{openMarket(){this.$refs.Market.open()},initChart(t){c["chart"]("container",{chart:{zoomType:"x"},title:{text:this.$t("kline.text6",{symbol:this.symbol})},subtitle:{text:void 0===document.ontouchstart?this.$t("kline.text9"):this.$t("kline.text7")},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},tooltip:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%Y-%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:{title:{text:null}},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,(new c["getOptions"]).colors[0]],[1,new c["Color"](c["getOptions"]().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{data:t,name:this.$t("kline.text8"),type:"area"}]})}}},_=f,x=_,k=(e("43cc"),Object(p["a"])(x,i,a,!1,null,"74a8bf6d",null));s["default"]=k.exports},ccfe:function(t,s,e){t.exports=e.p+"img/back.dba1862e.svg"}}]);